@model OfferedService

<div class="card card-dark bg-dark border-black">
	<div class="card-body text-light">
		<div class="display-6">@Localizer["CreateOfferedService"]</div>
		<form method="post" asp-action="Create">
			<div class="row">
				<div class="col border border-primary-subtle rounded p-2 m-2">
					<h5>@Localizer["Information"]</h5>
					<div class="form-group">
						<label asp-for="OfferedServiceName">@Localizer["Name"]</label>
						<input asp-for="OfferedServiceName" class="form-control" type="text" />
						<span asp-validation-for="OfferedServiceName" class="text-danger"></span>
					</div>
					<div class="form-group">
						<label asp-for="ApproximateDuration">@Localizer["ApproximateDuration(Minutes)"]</label>
						<input asp-for="ApproximateDuration" class="form-control" type="time"/>
						<span asp-validation-for="ApproximateDuration" class="text-danger"></span>
					</div>
					<div class="form-group">
						<label asp-for="Price">@Localizer["Price"]</label>
						<input asp-for="Price" class="form-control" type="number" step="0.01" />
						<span asp-validation-for="Price" class="text-danger"></span>
					</div>
					<div class="form-check form-switch my-3">
						<input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" asp-for="Status">
						<label asp-for="Status" class="form-check-label">@Localizer["IsActive"]</label>
					</div>
				</div>
				<div class="col border border-primary-subtle rounded p-2 m-2 border-opacity-25">
				<h5>@Localizer["Translations"]</h5>
				@{
					var supportedCultures = ViewBag.SupportedCultures as List<string>;
				}
				@foreach (var culture in supportedCultures)
				{
					<div class="form-group">
						<label for="Translation-@culture">@Localizer["NameForCulture"] : (@culture)</label>
							@functions {
							private string GetLocalizationValue(string culture)
							{
								var localization = Model.OfferedServiceLocalizations?.FirstOrDefault(l => l.Language == culture);
								return localization?.OfferedServiceLocalizationName ?? string.Empty;
							}
						}
						<input class="form-control" type="text" name="Translations[@culture]" id="Translation-@culture" value="@GetLocalizationValue(culture)" />
						<span asp-validation-for="OfferedServiceLocalizations" class="text-danger"></span>
					</div>
				}
			</div>
				<div class="col border border-primary-subtle rounded p-2 m-2 border-opacity-75">
					<div class="form-group">
						<p><label asp-for="Price">@Localizer["Genders"]</label></p>
						@{
							var isMaleChecked = Model.Genders.Contains(Gender.m);
							var isFemaleChecked = Model.Genders.Contains(Gender.f);
						}
						<div class="form-check">
							<input class="form-check-input" type="radio" name="Genders" value="m" id="genderMale" checked="@isMaleChecked" />
							<label class="form-check-label" for="genderMale">
								<i class="bi bi-gender-male"></i>
								@Localizer["Male"]
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="Genders" value="f" id="genderFemale" checked="@isFemaleChecked" />
							<label class="form-check-label" for="genderFemale">
								<i class="bi bi-gender-female"></i>
								@Localizer["Female"]
							</label>
						</div>
						<span asp-validation-for="Genders" class="text-danger"></span>
					</div>
				</div>
				<div class="col border border-primary-subtle rounded p-2 m-2 border-opacity-75">
					<div class="form-group">
						<p>@Localizer["AgeGroups"]</p>
						@{
							var allAgeGroups = ViewBag.AllAgeGroups as List<AgeGroup>;
						}
						@foreach (var ageGroup in allAgeGroups)
						{
							var isAgeGroupChecked = Model?.AgeGroups.Any(ag => ag.AgeGroupId == ageGroup.AgeGroupId) ?? false;
							<div class="form-check">
								<input class="form-check-input" type="radio" name="AgeGroupIds" value="@ageGroup.AgeGroupId" id="ageGroup-@ageGroup.AgeGroupId" checked="@isAgeGroupChecked" />
								<label class="form-check-label" for="ageGroup-@ageGroup.AgeGroupId">@*@ageGroup.Name*@...:::!!!FIX HERE!!!:::...</label>
							</div>
						}
						<span asp-validation-for="AgeGroups" class="text-danger"></span>
					</div>
				</div>
			</div>
			<div class="text-danger" asp-validation-summary="All"></div>
			<button type="submit" class="btn btn-primary my-3">
				<i class="bi bi-floppy"></i>
				@Localizer["CreateService"]
			</button>
		</form>
	</div>
</div>
